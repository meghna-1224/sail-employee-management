{% extends "accounts/base.html" %}

{% block content %}
<div class="login-container">
    <h2>Employee Login</h2>
    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}
    <form method="post">
        {% csrf_token %}
        <label for="username">Employee ID:</label><br>
        <input type="text" name="username" required class="form-control mb-3">
        
        <label for="password">Password:</label><br>
        <div class="position-relative">
            <input type="password" name="password" id="employeePassword" required class="form-control">
            <i class="bi bi-eye-slash toggle-password" id="toggleEmployeePassword"
               style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); cursor: pointer;"></i>
        </div>
        <br>
        <button type="submit" class="btn btn-primary">Login</button>
    </form>
    <div class="mt-3">
        <a href="{% url 'forgot_id' %}" class="btn btn-outline-secondary btn-sm me-2">Forgot ID?</a>
        <a href="{% url 'password_reset' %}" class="btn btn-outline-secondary btn-sm">Forgot Password?</a>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
document.getElementById("toggleEmployeePassword").addEventListener("click", function () {
    const passwordField = document.getElementById("employeePassword");
    const icon = this;
    const type = passwordField.getAttribute("type") === "password" ? "text" : "password";
    passwordField.setAttribute("type", type);
    icon.classList.toggle("bi-eye");
    icon.classList.toggle("bi-eye-slash");
});
</script>
{% endblock %}
